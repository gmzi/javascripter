# DOM manipulation

[innerText](##innerText)
[textContent](##textContent)
[innerHTML](##innerHTML)
[style_single_element](##style_single_element)  
[style_multiple_elements](##style_multiple_elements)
[getAttribute](##getAttribute)  
[setAttribute](##setAttribute)  
[access_attr_directly](##access_attr_directly)  
[value](##value)

Once we selected the HTMLElements, we do something with them.

- Modify text inside an HTMLElement
- change inline styling
- modify atributes (src, href, class, id, type, value)
- Traverse, create, append and remove elements from the DOM.

## innerText

Affects text only (no tags, no style). For single content with no nested elements (would mess up changing nested tags and multiple elements with one single string). Whatever is added will be treated as text only.

```html
<h1>Old text<h1></h1></h1>
```

```javascript
const h1 = document.querySelector("h1"); // Old text
h1.innerText = "new texto"; // new texto
const caps = h1.innerText.toUpperCase();
h1.innerText = caps; // NEW TEXTO
```

## textContent

It's a bit dumber than innerText, Converts tags and CSS into text, and is unaware about what's hidden and what's showed in the CSS styling.

```javascript
h1.textContent; // NEW TEXTO;
h1.textContent = "changed again"; // changed again;
```

## innerHTML

Affects text and tags.

1. Reading:

```javascript
const list = document.querySelector(".craigs-list.first ol");
list.innerHTML;
/* 
<li>craig 1</li>
<li>craig 2</li>
*/
```

2. Modifying:

```javascript
list.innerHTML += "<li class='new-item'>New item</li>";
list.innerHTML; /*
<li>craig 1</li>
<li>craig 2</li>
<li class="new-item">New item</li> */
```

NOTE: innerHTML will treat added values as HTML, so users could enter scripts that would be runned in our site, so be careful with this. A Cross Site Scripting Attack consists in injecting js scripts in our code with bad intentions. Browsers have protections for this, but still is possible to insert scripts if the code is not sanitized (innerText does sanitize the code added, so it's safer).

## style_single_element

camelCase instead of dash.

1. Reading:
   Only contains inline styles, doesn't see the stylesheet file.

```javascript
h1.style.color; // ""
```

2. Modifying:
   Sets new property inline in the html. Good for just one property.

```javascript
h1.style.color = "blue"; // <h1 style="color: blue;">changed again</h1>
h1.style.backgroundColor = "orange";
// <h1 style="color: blue; background-color: orange;">changed again</h1>
```

## style_multiple_elements

```javascript
const listItems = document.querySelectorAll("li");
for (let listItem of listItems) {
  listItem.style.color = "red";
}

const imgs = document.querySelectorAll("img");
for (let img of imgs) {
  img.style.width = "12rem";
  img.style.border = "1px solid blue";
}
```

# Attributes

## getAttribute

Only access an attribute.

```javascript
const firstInput = document.querySelector("input");
firstInput.getAttribute("type"); // text
document.querySelector("input").getAttribute("id"); // caca
```

## setAttribute

Removes previous classes of the element, if any (because adds inline style, which has higher jerarquy than the CSS file ones).
`element.setAttribute("attName", "attValue");`.

```javascript
firstInput.setAttribute("placeholder", "cague all√°");
// modify class:
const regularQuote = document.querySelector(".regular");
regularQuote.setAttribute("class", "slang");
```

## access_attr_directly

some attributes can be accessed and modified directly:

```javascript
firstInput.id; // caca
firstInput.id = "new-name"; // new-name
```

## value

When working with forms, we care about value attribute because it contains the user's input. To read the user input:

```javascript
// grab the form input field:
const nameInput = document.querySelector(".name input");
// read the value:
nameInput.value; // "whatever user wrote". This will appear in browser's console, not in javascript (yet).
// store the value:
const userInput = nameInput.value;
// blank the form after use:
input.value = "";
//[ Modify the value:
nameInput.value = "caca"; // caca ]
```
